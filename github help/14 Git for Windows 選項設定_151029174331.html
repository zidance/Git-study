<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>14 Git for Windows 選項設定.markdown—/Users/Zidane/Documents/Learn-Git-in-30-days/docs</title>
    <style type="text/css">
    html{font-family: sans-serif;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%}body{margin: 0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display: block}audio,canvas,progress,video{display: inline-block;vertical-align: baseline}audio:not([controls]){display: none;height: 0}[hidden],template{display: none}a{background: transparent}a:active,a:hover{outline: 0}abbr[title]{border-bottom: 1px dotted}b,strong{font-weight: bold}dfn{font-style: italic}h1{font-size: 2em;margin: 0.67em 0}mark{background: #ff0;color: #000}small{font-size: 80%}sub,sup{font-size: 75%;line-height: 0;position: relative;vertical-align: baseline}sup{top: -0.5em}sub{bottom: -0.25em}img{border: 0}svg:not(:root){overflow: hidden}figure{margin: 1em 40px}hr{box-sizing: content-box;height: 0}pre{overflow: auto}code,kbd,pre,samp{font-family: monospace, monospace;font-size: 1em}button,input,optgroup,select,textarea{color: inherit;font: inherit;margin: 0}button{overflow: visible}button,select{text-transform: none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance: button;cursor: pointer}button[disabled],html input[disabled]{cursor: default}button::-moz-focus-inner,input::-moz-focus-inner{border: 0;padding: 0}input{line-height: normal}input[type="checkbox"],input[type="radio"]{box-sizing: border-box;padding: 0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height: auto}input[type="search"]{-webkit-appearance: textfield;box-sizing: content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance: none}fieldset{border: 1px solid #c0c0c0;margin: 0 2px;padding: 0.35em 0.625em 0.75em}legend{border: 0;padding: 0}textarea{overflow: auto}optgroup{font-weight: bold}table{border-collapse: collapse;border-spacing: 0}td,th{padding: 0}*{box-sizing: border-box}input,select,textarea,button{font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"}body{min-width: 1020px;font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";color: #333;background-color: #fff}a{color: #4183c4;text-decoration: none}a:hover,a:active{text-decoration: underline}hr,.rule{height: 0;margin: 15px 0;overflow: hidden;background: transparent;border: 0;border-bottom: 1px solid #ddd}hr:before,.rule:before{display: table;content: ""}hr:after,.rule:after{display: table;clear: both;content: ""}h1,h2,h3,h4,h5,h6{margin-top: 15px;margin-bottom: 15px;line-height: 1.1}h1{font-size: 30px}h2{font-size: 21px}h3{font-size: 16px}h4{font-size: 14px}h5{font-size: 12px}h6{font-size: 11px}small{font-size: 90%}blockquote{margin: 0}.lead{margin-bottom: 30px;font-size: 20px;font-weight: 300;color: #555}.text-muted{color: #999}.text-danger{color: #bd2c00}.text-emphasized{font-weight: bold;color: #333}ul,ol{padding: 0;margin-top: 0;margin-bottom: 0}ol ol,ul ol{list-style-type: lower-roman}ul ul ol,ul ol ol,ol ul ol,ol ol ol{list-style-type: lower-alpha}dd{margin-left: 0}tt,code{font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;font-size: 12px}pre{margin-top: 0;margin-bottom: 0;font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace}#realtime .status{overflow: visible;position: absolute;top: -5px;left: 0;background: url("/public/images/github-status.png");width: 26px;height: 26px;display: block;margin: 0 5px 0 0}#realtime .up{background-position: 0 0}#realtime .problem{background-position: 0 -53px}#realtime .down{background-position: 0 -26px}.container{max-width: 920px;margin: 0 auto 20px auto}#header{background: #FAFAFA;background: -moz-linear-gradient(#FAFAFA, #EAEAEA);background: -webkit-linear-gradient(#FAFAFA, #EAEAEA);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#fafafa', endColorstr='#eaeaea')";border-bottom: 1px solid #CACACA;box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4),0 0 10px rgba(0, 0, 0, 0.1)}#markup{padding: 3px}#markup article{padding-top: 30px}.markdown-body{overflow: hidden;font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;font-size: 16px;line-height: 1.6;word-wrap: break-word}.markdown-body>*:first-child{margin-top: 0 !important}.markdown-body>*:last-child{margin-bottom: 0 !important}.markdown-body .absent{color: #c00}.markdown-body .anchor{position: absolute;top: 0;left: 0;display: block;padding-right: 6px;padding-left: 30px;margin-left: -30px}.markdown-body .anchor:focus{outline: none}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position: relative;margin-top: 1em;margin-bottom: 16px;font-weight: bold;line-height: 1.4}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{display: none;color: #000;vertical-align: middle}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{padding-left: 8px;margin-left: -30px;text-decoration: none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{display: inline-block}.markdown-body h1 tt,.markdown-body h1 code,.markdown-body h2 tt,.markdown-body h2 code,.markdown-body h3 tt,.markdown-body h3 code,.markdown-body h4 tt,.markdown-body h4 code,.markdown-body h5 tt,.markdown-body h5 code,.markdown-body h6 tt,.markdown-body h6 code{font-size: inherit}.markdown-body h1{padding-bottom: 0.3em;font-size: 2.25em;line-height: 1.2;border-bottom: 1px solid #eee}.markdown-body h1 .anchor{line-height: 1}.markdown-body h2{padding-bottom: 0.3em;font-size: 1.75em;line-height: 1.225;border-bottom: 1px solid #eee}.markdown-body h2 .anchor{line-height: 1}.markdown-body h3{font-size: 1.5em;line-height: 1.43}.markdown-body h3 .anchor{line-height: 1.2}.markdown-body h4{font-size: 1.25em}.markdown-body h4 .anchor{line-height: 1.2}.markdown-body h5{font-size: 1em}.markdown-body h5 .anchor{line-height: 1.1}.markdown-body h6{font-size: 1em;color: #777}.markdown-body h6 .anchor{line-height: 1.1}.markdown-body p,.markdown-body blockquote,.markdown-body ul,.markdown-body ol,.markdown-body dl,.markdown-body table,.markdown-body pre{margin-top: 0;margin-bottom: 16px}.markdown-body hr{height: 4px;padding: 0;margin: 16px 0;background-color: #e7e7e7;border: 0 none}.markdown-body ul,.markdown-body ol{padding-left: 2em}.markdown-body ul.no-list,.markdown-body ol.no-list{padding: 0;list-style-type: none}.markdown-body ul ul,.markdown-body ul ol,.markdown-body ol ol,.markdown-body ol ul{margin-top: 0;margin-bottom: 0}.markdown-body li>p{margin-top: 16px}.markdown-body dl{padding: 0}.markdown-body dl dt{padding: 0;margin-top: 16px;font-size: 1em;font-style: italic;font-weight: bold}.markdown-body dl dd{padding: 0 16px;margin-bottom: 16px}.markdown-body blockquote{padding: 0 15px;color: #777;border-left: 4px solid #ddd}.markdown-body blockquote>:first-child{margin-top: 0}.markdown-body blockquote>:last-child{margin-bottom: 0}.markdown-body table{display: block;width: 100%;overflow: auto;word-break: normal;word-break: keep-all}.markdown-body table th{font-weight: bold}.markdown-body table th,.markdown-body table td{padding: 6px 13px;border: 1px solid #ddd}.markdown-body table tr{background-color: #fff;border-top: 1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color: #f8f8f8}.markdown-body img{max-width: 100%;box-sizing: border-box}.markdown-body span.frame{display: block;overflow: hidden}.markdown-body span.frame>span{display: block;float: left;width: auto;padding: 7px;margin: 13px 0 0;overflow: hidden;border: 1px solid #ddd}.markdown-body span.frame span img{display: block;float: left}.markdown-body span.frame span span{display: block;padding: 5px 0 0;clear: both;color: #333}.markdown-body span.align-center{display: block;overflow: hidden;clear: both}.markdown-body span.align-center>span{display: block;margin: 13px auto 0;overflow: hidden;text-align: center}.markdown-body span.align-center span img{margin: 0 auto;text-align: center}.markdown-body span.align-right{display: block;overflow: hidden;clear: both}.markdown-body span.align-right>span{display: block;margin: 13px 0 0;overflow: hidden;text-align: right}.markdown-body span.align-right span img{margin: 0;text-align: right}.markdown-body span.float-left{display: block;float: left;margin-right: 13px;overflow: hidden}.markdown-body span.float-left span{margin: 13px 0 0}.markdown-body span.float-right{display: block;float: right;margin-left: 13px;overflow: hidden}.markdown-body span.float-right>span{display: block;margin: 13px auto 0;overflow: hidden;text-align: right}.markdown-body code,.markdown-body tt{padding: 0;padding-top: 0.2em;padding-bottom: 0.2em;margin: 0;font-size: 85%;background-color: rgba(0,0,0,0.04);border-radius: 3px}.markdown-body code:before,.markdown-body code:after,.markdown-body tt:before,.markdown-body tt:after{letter-spacing: -0.2em;content: "\00a0"}.markdown-body code br,.markdown-body tt br{display: none}.markdown-body del code{text-decoration: inherit}.markdown-body pre>code{padding: 0;margin: 0;font-size: 100%;word-break: normal;white-space: pre;background: transparent;border: 0}.markdown-body .highlight{margin-bottom: 16px}.markdown-body .highlight pre,.markdown-body pre{padding: 16px;overflow: auto;font-size: 85%;line-height: 1.45;background-color: #f7f7f7;border-radius: 3px}.markdown-body .highlight pre{margin-bottom: 0;word-break: normal}.markdown-body pre{word-wrap: normal}.markdown-body pre code,.markdown-body pre tt{display: inline;max-width: initial;padding: 0;margin: 0;overflow: initial;line-height: inherit;word-wrap: normal;background-color: transparent;border: 0}.markdown-body pre code:before,.markdown-body pre code:after,.markdown-body pre tt:before,.markdown-body pre tt:after{content: normal}.markdown-body kbd{display: inline-block;padding: 3px 5px;font-size: 11px;line-height: 10px;color: #555;vertical-align: middle;background-color: #fcfcfc;border: solid 1px #ccc;border-bottom-color: #bbb;border-radius: 3px;box-shadow: inset 0 -1px 0 #bbb}.codehilite{background: #ffffff}.codehilite .c{color: #999988;font-style: italic}.codehilite .err{color: #a61717;background-color: #e3d2d2}.codehilite .k{color: #000000;font-weight: bold}.codehilite .o{color: #000000;font-weight: bold}.codehilite .cm{color: #999988;font-style: italic}.codehilite .cp{color: #999999;font-weight: bold}.codehilite .c1{color: #999988;font-style: italic}.codehilite .cs{color: #999999;font-weight: bold;font-style: italic}.codehilite .gd{color: #000000;background-color: #ffdddd}.codehilite .gd .x{color: #000000;background-color: #ffaaaa}.codehilite .ge{color: #000000;font-style: italic}.codehilite .gr{color: #aa0000}.codehilite .gh{color: #999999}.codehilite .gi{color: #000000;background-color: #ddffdd}.codehilite .gi .x{color: #000000;background-color: #aaffaa}.codehilite .go{color: #888888}.codehilite .gp{color: #555555}.codehilite .gs{font-weight: bold}.codehilite .gu{color: #aaaaaa}.codehilite .gt{color: #aa0000}.codehilite .kc{color: #000000;font-weight: bold}.codehilite .kd{color: #000000;font-weight: bold}.codehilite .kp{color: #000000;font-weight: bold}.codehilite .kr{color: #000000;font-weight: bold}.codehilite .kt{color: #445588;font-weight: bold}.codehilite .m{color: #009999}.codehilite .s{color: #d14}.codehilite .na{color: #008080}.codehilite .nb{color: #0086B3}.codehilite .nc{color: #445588;font-weight: bold}.codehilite .no{color: #008080}.codehilite .ni{color: #800080}.codehilite .ne{color: #990000;font-weight: bold}.codehilite .nf{color: #990000;font-weight: bold}.codehilite .nn{color: #555555}.codehilite .nt{color: #000080}.codehilite .nv{color: #008080}.codehilite .ow{color: #000000;font-weight: bold}.codehilite .w{color: #bbbbbb}.codehilite .mf{color: #009999}.codehilite .mh{color: #009999}.codehilite .mi{color: #009999}.codehilite .mo{color: #009999}.codehilite .sb{color: #d14}.codehilite .sc{color: #d14}.codehilite .sd{color: #d14}.codehilite .s2{color: #d14}.codehilite .se{color: #d14}.codehilite .sh{color: #d14}.codehilite .si{color: #d14}.codehilite .sx{color: #d14}.codehilite .sr{color: #009926}.codehilite .s1{color: #d14}.codehilite .ss{color: #990073}.codehilite .bp{color: #999999}.codehilite .vc{color: #008080}.codehilite .vg{color: #008080}.codehilite .vi{color: #008080}.codehilite .il{color: #009999}
    </style>
    <style type="text/css">
      .markdown-body hr{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC")}
    </style>
  </head>
  <body>
    <div class="container">
      <div id="markup">
        <article id="content" class="markdown-body">
          <h1 id="14-git-for-windows">第 14 天： Git for Windows 選項設定</h1>
<p>使用 Git for Windows 指令列工具絕對比透過 GUI 工具操作來的有效率，原因就在於你可以把許多重複的版控工作透過指令自動化，或將複雜的標準作業流程(SOP)轉化成簡單的指令操作。本篇文章將分享幾則使用 Git for Windows 指令列工具的小技巧。</p>
<h2 id="git">關於 Git 指令列工具的選項設定</h2>
<p>在 Git 指令列工具裡，有許多「選項」可以設定，如同我們使用 GUI 工具通常都會有 [工具] -&gt; [偏好設定] 一樣，可以微調指令執行時的一些行為。最常見的，當然就是首次使用 Git for Windows 的時候，必須設定 <code>user.name</code> 與 <code>user.email</code> 選項，沒有這兩個選項設定，你連執行 <code>git commit</code> 的權力都沒有。</p>
<p>若要列出目前設定在 Git for Windows 工具下的所有選項，可以使用 <code>git config --list</code> 命令，如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323393/3e87a850-347d-11e3-8917-ae729cd8b09e.png"></p>
<p><strong>註</strong>：由於網路上大部分的 Git 文章，都介紹 Linux 或 Mac 電腦的執行環境如何設定，我的文章將會專注於 Windows 平台的設定教學。不過，除了儲存路徑比較不一樣之外，其實指令的用法都是相通的。</p>
<p>若想查詢所有可用的「選項」有哪些，可在命令提示字元下執行 <code>git help config</code> 即可顯示完整的文件說明或可連到 <a href="https://www.kernel.org/pub/software/scm/git/docs/git-config.html">git-config(1) Manual Page</a> 頁面查看。</p>
<h2 id="git_1">儲存 Git 選項設定的三個地方</h2>
<ol>
<li>
<p><strong>系統層級</strong> ( <code>--system</code> ) (System-level configuration) (<strong>設定於整台電腦，適用於本機所有使用者的預設值</strong>)</p>
<p>如果要列出所有設定在「系統層級」的「選項」，可以執行 <code>git config --list --system</code> 命令，也就是額外加上 <code>--system</code> 即可篩選出關於系統層級的選項設定，如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323408/673e9e74-347e-11e3-87d3-79205a74b5fe.png"></p>
<p>所有的「系統層級」的選項設定預設會儲存在 <code>C:\Program Files (x86)\Git\etc\gitconfig</code> 這個檔案裡。不過，如果你電腦使用的作業系統是 Windows Vista 以上版本 (含 Windows 7 與 Windows 8 作業系統) 又同時啟用「使用者帳戶控制」 (UAC; User Access Control) 的話，那麼這個路徑將會是 <code>%LOCALAPPDATA%\VirtualStore\Program Files (x86)\Git\etc\gitconfig</code> (這個路徑位於使用者的目錄下）。會有這層改變的原因就出在 UAC 限制了一般程式存取「系統資料夾」中的檔案權限，導致你無法在使用 <code>git config</code> 寫入選項設定到這個設定檔裡。在 Windows Vista 以上版本，實作了一套 <strong>VirtualStore</strong> 相容性技術，讓你的程式試圖寫入檔案的同時，也可以寫入成功，不過寫入的路徑卻是不同的，這點必須特別注意。</p>
<p>這個 Windows 內建的 <strong>VirtualStore</strong> 相容性技術，其技術文件非常稀有，似乎代表著很少人知道這個東西，但這技術確實可能會讓使用者產生困擾。例如，我們用「<strong>一般方式執行命令提示字元</strong>」與用「<strong>以系統管理員身分執行命令提示字元</strong>」，所寫入的「系統層級選項」是不能互通的。換句話說，如果你用「<strong>以系統管理員身分執行命令提示字元</strong>」，如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323457/7e858244-3480-11e3-8858-1272448db3d1.png"></p>
<p>然後執行 <code>git config --system --list</code> 先列出所有參數，我們可以發現目前的 <code>core.autocrlf</code> 參數為 <code>true</code>，接著我將系統層級的 <code>core.autocrlf</code> 修改為 false，最後執行 <code>git config --system core.autocrlf</code> 讀出 <code>core.autocrlf</code> 的內容，你可以看到我們已經把 <code>core.autocrlf</code> 選項修改為 <code>false</code> 了。如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323480/c7e11cae-3481-11e3-9b85-c09f544c5d9a.png"></p>
<p>再來我們用一般權限執行「命令提示字元」：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323481/f2fe2008-3481-11e3-9caa-3f277107e9b8.png"></p>
<p>然後執行 <code>git config --system core.autocrlf</code> 讀出 <code>core.autocrlf</code> 的內容，這時你可以看到我的 <code>core.autocrlf</code> 選項值也是 <code>false</code>，目前並沒有發現任何問題。不過這時如果你再執行 <code>git config --system core.autocrlf true</code> 把 <code>core.autocrlf</code> 選項設定改回 <code>true</code> 的話，在目前的環境下也沒問題：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323488/1b022396-3483-11e3-802e-d7b9756a72d7.png"></p>
<p>但如果我們重新「<strong>以系統管理員身分執行命令提示字元</strong>」，再輸入一次 <code>git config --system core.autocrlf</code> 讀出 <code>core.autocrlf</code> 的內容，你會發現其選項值竟然為 <code>false</code>，這個所謂的「系統層級」設定並沒有真的套用到所謂的「系統層級」，所以你日後使用 Git 的過程中發現「怪怪的」狀況，或懷疑 Git for Windows 這工具好像有 Bugs，但事實上這跟工具一點關係都沒有，是作業系統的問題！</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323494/38854a7e-3483-11e3-84e2-f4ff82c454ea.png"></p>
<p>如果你的 Windows 登入帳號為 <code>Will</code> 的話，這個 <code>%LOCALAPPDATA%\VirtualStore\Program Files (x86)\Git\etc\gitconfig</code> 路徑就會自動展開為 <code>C:\Users\Will\AppData\Local\VirtualStore\Program Files (x86)\Git\etc\gitconfig</code>，也代表著，當你在「一般權限」下執行「命令提示字元」，並且透過 <code>git config --system</code> 設定「系統層級」選項，那麼該設定將會變成只有「自己」能夠套用而已，不會套用到本機其他使用者身上。</p>
<p>結論：<strong>若要設定「系統層級」選項，請務必用【以系統管理員身分執行】的方式啟用命令提示字元，然後再執行 <code>git config</code> 命令，才能寫入正確的檔案位置。</strong></p>
<p>補充資訊: <a href="http://technet.microsoft.com/en-us/magazine/2007.06.uac.aspx">VirtualStore - Inside Windows Vista User Account Control</a></p>
</li>
<li>
<p><strong>使用者層級</strong> ( <code>--global</code> ) (User-level configuration) (<strong>設定於目前登入的使用者</strong>)</p>
<p>如果要列出所有設定在「使用者層級」的「選項」，可以執行 <code>git config --list --global</code> 命令，也就是額外加上 <code>--global</code> 即可篩選出關於使用者層級的選項設定，如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323597/5d122a68-348a-11e3-9357-8849f4046458.png"></p>
<p>關於「使用者層級」的選項設定預設會儲存在 <code>%USERPROFILE%\.gitconfig</code> 或 <code>C:\Users\&lt;使用者帳號&gt;\.gitconfig</code> 這個檔案裡。由於檔案儲存在自己的使用者資料夾下，沒有像「系統層級」設定時有權限問題。</p>
<p>一般來說，我們通常會把 <code>user.name</code> 與 <code>user.email</code> 選項設定在「使用者層級」，例如以下設定範例(請換成你自己的姓名與電子郵件地址)：</p>
<div class="codehilite"><pre>git config --global user.name &quot;Will Huang&quot;
git config --global user.email &quot;will@example.com&quot;
</pre></div>


<p>還有，由於「使用者層級」顧名思義就是「使用者自己專用的地方」，所以通常我們也會把「個人化」的環境設定都設定在這裡，這部分本文稍後就會分享幾個環境設定的技巧。</p>
</li>
<li>
<p><strong>儲存區層級</strong> ( <code>--local</code> ) (Repository-level configuration) (<strong>設定於工作目錄下的 <code>.git\config</code> 設定檔中</strong>)</p>
<p>如果要列出所有設定在「儲存區層級」的「選項」，可以執行 <code>git config --list --local</code> 命令，也就是額外加上 <code>--local</code> 即可篩選出關於儲存區層級的選項設定，如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323606/5cb267a8-348b-11e3-8860-17aaf4d06e9b.png"></p>
<p>儲存區層級的選項設定檔預設儲存在你 Git 工作目錄的 <code>.git\config</code> 設定檔中，這檔案會在你建立本地儲存庫或透過 <code>git clone</code> 取得遠端儲存庫時自動建立，如果你要定義將「特定工作目錄」才要有的選項設定，則可以直接將選項設定儲存在這裡。</p>
</li>
</ol>
<h2 id="git_2">Git 選項設定的套用順序</h2>
<p>由於設定 Git 選項時可以套用三種不同的層級，不同的層級下可以設定相同名稱的選項，但要以哪一個層級的設定為準呢？事實上 Git 指令列工具在執行時會依據以下優先順序進行套用：</p>
<ol>
<li>先套用系統層級 (優先權最低)</li>
<li>再套用使用者層級</li>
<li>再套用儲存區層級 (優先權最高)</li>
</ol>
<p>也就是說，你如果再系統層級曾經設定過 <code>core.autocrlf</code> 選項，然後在使用者層級又重新定義過一次，那麼最終會套用的 <code>core.autocrlf</code> 選項值將會是「使用者層級」的設定值。</p>
<p>不過，若你的執行環境若是使用 Windows Vista 以上並啟用 UAC 使用者存取控制，而且還只用「一般權限」執行這些 Git 命令的話，讀取與討用的順序會多一個判斷：</p>
<ol>
<li>套用系統層級: <code>C:\Program Files (x86)\Git\etc\gitconfig</code></li>
<li>套用系統層級: <code>%LOCALAPPDATA%\VirtualStore\Program Files (x86)\Git\etc\gitconfig</code></li>
<li>套用使用者層級: <code>%USERPROFILE%\.gitconfig</code></li>
<li>套用儲存區層級: <code>.git\config</code> </li>
</ol>
<p>若你想要知道目前的工作環境最終套用的選項設定有哪些，可以直接執行 <code>git config --list</code> 即可，以取得所有「已設定」的選項設定清單：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323393/3e87a850-347d-11e3-8917-ae729cd8b09e.png"></p>
<h2 id="_1">選項設定的操作方式</h2>
<ul>
<li>
<p>取得選項設定清單</p>
<div class="codehilite"><pre>git config --list
git config --list --system
git config --list --global
git config --list --local
</pre></div>


</li>
<li>
<p>取得特定選項值</p>
<div class="codehilite"><pre>git config [config_section.config_name]

git config user.name
git config user.email
</pre></div>


</li>
<li>
<p>設定特定選項值</p>
<div class="codehilite"><pre>git config [config_section.config_name] [config_value]

git config user.name &quot;Will Huang&quot;
git config user.email &quot;will@example.com&quot;
</pre></div>


</li>
<li>
<p>刪除特定選項設定 </p>
<div class="codehilite"><pre>git config --unset --system [config_section.config_name]
git config --unset --global [config_section.config_name]
git config --unset --local  [config_section.config_name]
</pre></div>


</li>
</ul>
<h2 id="_2">選項設定檔的內容結構</h2>
<p>Git 選項設定的檔案內容其實格式都一樣，我們試著開啟一個<strong>使用者層級</strong>下的設定檔看看 ( <code>%USERPROFILE%\.gitconfig</code> )：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1323767/ac864b60-3494-11e3-9e77-7a3a8a83af2b.png"></p>
<p>我們從上圖可以看到，中括號 ( <code>[</code> 與 <code>]</code> ) 所包含的是一個「區段名稱」，代表某一群設定檔的分類，而其他的內容則是一組 Key/Value 的對應設定。通常我們會用 <code>git config</code> 命令來操作這些選項設定，但你其實也可以直接用 Notepad 編輯這些檔案，可以達到完全一樣的效果。
如果想了解有哪些選項可用，可以在命令提示字元下執行 <code>git help config</code> 即可顯示說明文件。</p>
<h2 id="_3">常用選項設定</h2>
<ul>
<li>
<p>設定指令別名 (Alias)</p>
<p>有沒有覺得每次用 git 打指令很囉嗦，尤其是經常使用的 <code>git status</code>, <code>git commit</code>, <code>git add</code> 或 <code>git log</code> 等指令，有時候還要外加一些額外的指令參數，每次這樣輸入還真的挺煩的。其實你可以透過指令別名的設定，讓指令輸入的更短一些。</p>
<p>首先，我們先設定一些我常用的 Git Alias 設定，指令如下：</p>
<div class="codehilite"><pre>git config --global alias.co   checkout
git config --global alias.ci   commit
git config --global alias.st   status
git config --global alias.sts  &quot;status -s&quot;
git config --global alias.br   branch
git config --global alias.re   remote
git config --global alias.di   diff
git config --global alias.type &quot;cat-file -t&quot;
git config --global alias.dump &quot;cat-file -p&quot;
git config --global alias.lo   &quot;log --oneline&quot;
git config --global alias.ll &quot;log --pretty=format:&#39;%h %ad | %s%d [%Cgreen%an%Creset]&#39; --graph --date=short&quot;
git config --global alias.lg &quot;log --graph --pretty=format:&#39;%Cred%h%Creset %ad |%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset [%Cgreen%an%Creset]&#39; --abbrev-commit --date=short&quot;
</pre></div>


<p>設定完這些「指令別名」後，如果今後你要顯示工作目錄狀態，原本你要輸入完整的 <code>git status</code>，現在你可以只輸入 <code>git st</code> 即可完成。如果你要顯示簡易版的狀態資訊，以前你要輸入 <code>git status -s</code> 才能完成，現在你只要輸入 <code>git sts</code> 即可完成。要顯示單行的歷史紀錄，現在也只要輸入 <code>git lo</code>, <code>git ll</code> 或 <code>git lg</code> 就可以完成。是不是相對的簡單很多呢！ :-)</p>
</li>
<li>
<p>指定預設文字編輯器</p>
<p>預設 Git for Windows 在執行 <code>git commit</code> 的時候，會開啟 Vim 編輯器。如果你想切換成記事本的話，可以透過以下指令完成設定：</p>
<div class="codehilite"><pre>git config --global core.editor notepad.exe
</pre></div>


<p>如果想指定 Notepad++ 當為主要編輯器的話，可以透過以下指令完成設定 (請自行修改執行檔路徑)：</p>
<div class="codehilite"><pre>git config --global core.editor &quot;\&quot;C:\Program Files (x86)\Notepad++\notepad++.exe\&quot;&quot;
</pre></div>


<p>當然，你想換成 Sublime Text 也是沒問題的，只要把執行檔路徑寫對即可！</p>
</li>
<li>
<p>直接編輯設定檔</p>
<p>有時候直接編輯設定檔會比下指令來的有方便些，所以如果你想要直接從指令列開啟編輯設定檔的話，可以參考以下指令：</p>
<div class="codehilite"><pre>git config --edit --system
git config --edit --global
git config --edit --local
</pre></div>


<p>如此一來可以省去開啟檔案總管，並找到路徑的後再開啟檔案的繁瑣步驟。</p>
</li>
<li>
<p>自動辨識 CRLF 字元</p>
<p>在 Windows 底下，建議最好打開 core.autocrlf 選項，讓 Git 將檔案儲存進物件儲存區 ( object storage ) 時，可以自動過濾所有 CR 字元 ( <code>\r</code> )，以利 Git 專案能更容易跨平台，讓在 Linux 與 Windows 平台做開發的人都能順利使用 Git 版本控管。</p>
<div class="codehilite"><pre>git config --global core.autocrlf true
</pre></div>


<p>筆者曾經寫過一篇 <a href="http://blog.miniasp.com/post/2013/09/15/Git-for-Windows-Line-Ending-Conversion-Notes.aspx">Git 在 Windows 平台處理斷行字元 (CRLF) 的注意事項</a> 的文章，建議各位可以看看。</p>
</li>
<li>
<p>自動訂正打錯的參數</p>
<p>畢竟我們是用指令列工具再輸入，打錯字在所難免，例如你輸入 <code>git statsu</code> (打錯字了)，若啟用「自動訂正」選項，則 Git 工具會自動修正為 <code>git status</code> 並成功執行，讓你不用重打一次。以下是開啟自動訂正選項的指令：</p>
<div class="codehilite"><pre>git config --global help.autocorrect 1
</pre></div>


</li>
<li>
<p>啟用訊息顏色</p>
<p>預設 Git for Windows 的「系統層級」設定中已經啟用了訊息顏色功能，但如果你不小心關閉的話，可以用以下指令開啟：</p>
<div class="codehilite"><pre>git config --system color.ui auto
</pre></div>


</li>
<li>
<p>自訂 commit 訊息範本</p>
<p>每當我們輸入 <code>git commit</code> 的時候，都會跳出一個文字編輯視窗，讓我們輸入本次要 commit 的紀錄訊息，但每次都需要重頭輸入訊息。在團隊中，你可能會希望大家共用一個「文字範本」，好讓大家在 <code>git commit</code> 的時候都能夠填寫必要的欄位或資訊。</p>
<p>如果要指令 commit 訊息範本，必須先建立一個文字範本檔案，假設我放在 G:\git-commit-template.txt</p>
<p>接著透過以下指令，設定 commit 訊息範本的路徑：</p>
<div class="codehilite"><pre>git config --local commit.template &quot;G:\git-commit-template.txt&quot;
</pre></div>


<p>最後執行 <code>git commit</code> 所跳出的訊息編輯視窗就會有預設內容了：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1324062/f5e98b9e-34a5-11e3-85e1-50d271665352.png"></p>
<p>各位不知道有沒有注意到，我故意用 <code>--local</code> 參數，將設定儲存在「儲存庫層級」下 ( <code>.git\config</code> )，主要原因就是「訊息範本」有時候是跟著「專案」走的，不同的專案可能會想套用不同的訊息範本。如果你跟我有相同的需求，就可以套用 <code>--local</code> 參數。否則，你也可以套用 <code>--global</code> 直接套用在使用者層級下。</p>
</li>
</ul>
<h2 id="_4">今日小結</h2>
<p>今天介紹的 Git for Windows 選項設定不是很常用，通常也只需要設定一次就沒事了，但「工欲善其事、必先利其器」，先把環境、選項都給設定好，你將可大幅減少 Git 版本控管的花費時間。</p>
<p>我重新整理一下本日學到的 Git 指令與參數：</p>
<ul>
<li>git config &ndash;list</li>
<li>git config &ndash;list &ndash;system</li>
<li>git config &ndash;list &ndash;global</li>
<li>
<p>git config &ndash;list &ndash;local</p>
</li>
<li>
<p>git config &ndash;edit &ndash;system</p>
</li>
<li>git config &ndash;edit &ndash;global</li>
<li>
<p>git config &ndash;edit &ndash;local</p>
</li>
<li>
<p>git config [config_section.config_name]</p>
</li>
<li>git config [config_section.config_name] [config_value]</li>
<li>git config &ndash;unset &ndash;system [config_section.config_name]</li>
<li>git config &ndash;unset &ndash;global [config_section.config_name]</li>
<li>
<p>git config &ndash;unset &ndash;local  [config_section.config_name]</p>
</li>
<li>
<p>git config user.name</p>
</li>
<li>git config user.email</li>
<li>git config user.name &ldquo;Will Huang&rdquo;</li>
<li>
<p>git config user.email &ldquo;will@example.com&rdquo;</p>
</li>
<li>
<p>git config &ndash;global alias.co   checkout</p>
</li>
<li>git config &ndash;global alias.ci   commit</li>
<li>git config &ndash;global alias.st   status</li>
<li>git config &ndash;global alias.sts  &ldquo;status -s&rdquo;</li>
<li>git config &ndash;global alias.br   branch</li>
<li>git config &ndash;global alias.re   remote</li>
<li>git config &ndash;global alias.di   diff</li>
<li>git config &ndash;global alias.type &ldquo;cat-file -t&rdquo;</li>
<li>git config &ndash;global alias.dump &ldquo;cat-file -p&rdquo;</li>
<li>git config &ndash;global alias.lo   &ldquo;log &ndash;oneline&rdquo;</li>
<li>git config &ndash;global alias.ll &ldquo;log &ndash;pretty=format:&rsquo;%h %ad | %s%d [%Cgreen%an%Creset]&rsquo; &ndash;graph &ndash;date=short&rdquo;</li>
<li>git config &ndash;global alias.lg &ldquo;log &ndash;graph &ndash;pretty=format:&rsquo;%Cred%h%Creset %ad |%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset [%Cgreen%an%Creset]&rsquo; &ndash;abbrev-commit &ndash;date=short&rdquo;</li>
<li>git config &ndash;global core.editor notepad.exe</li>
<li>git config &ndash;global core.autocrlf true</li>
<li>git config &ndash;global help.autocorrect 1</li>
<li>git config &ndash;system color.ui auto</li>
<li>git config &ndash;local commit.template &ldquo;G:\git-commit-template.txt&rdquo;</li>
</ul>
<h2 id="_5">參考連結</h2>
<ul>
<li><a href="http://c9s.blogspot.tw/2009/11/git-alias.html">Git - Alias</a></li>
<li><a href="http://githowto.com/aliases">11. Aliases | Git How To</a></li>
<li><a href="http://git-scm.com/book/en/Customizing-Git-Git-Configuration">7.1 Customizing Git - Git Configuration</a></li>
<li><a href="https://www.kernel.org/pub/software/scm/git/docs/git-config.html">git-config(1) Manual Page</a></li>
</ul>
        </article>
      </div>
    </div>
  </body>
</html>
