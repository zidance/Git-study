<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>30 分享工作中幾個好用的 Git 操作技巧.markdown—/Users/Zidane/Documents/Learn-Git-in-30-days/docs</title>
    <style type="text/css">
    html{font-family: sans-serif;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%}body{margin: 0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display: block}audio,canvas,progress,video{display: inline-block;vertical-align: baseline}audio:not([controls]){display: none;height: 0}[hidden],template{display: none}a{background: transparent}a:active,a:hover{outline: 0}abbr[title]{border-bottom: 1px dotted}b,strong{font-weight: bold}dfn{font-style: italic}h1{font-size: 2em;margin: 0.67em 0}mark{background: #ff0;color: #000}small{font-size: 80%}sub,sup{font-size: 75%;line-height: 0;position: relative;vertical-align: baseline}sup{top: -0.5em}sub{bottom: -0.25em}img{border: 0}svg:not(:root){overflow: hidden}figure{margin: 1em 40px}hr{box-sizing: content-box;height: 0}pre{overflow: auto}code,kbd,pre,samp{font-family: monospace, monospace;font-size: 1em}button,input,optgroup,select,textarea{color: inherit;font: inherit;margin: 0}button{overflow: visible}button,select{text-transform: none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance: button;cursor: pointer}button[disabled],html input[disabled]{cursor: default}button::-moz-focus-inner,input::-moz-focus-inner{border: 0;padding: 0}input{line-height: normal}input[type="checkbox"],input[type="radio"]{box-sizing: border-box;padding: 0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height: auto}input[type="search"]{-webkit-appearance: textfield;box-sizing: content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance: none}fieldset{border: 1px solid #c0c0c0;margin: 0 2px;padding: 0.35em 0.625em 0.75em}legend{border: 0;padding: 0}textarea{overflow: auto}optgroup{font-weight: bold}table{border-collapse: collapse;border-spacing: 0}td,th{padding: 0}*{box-sizing: border-box}input,select,textarea,button{font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"}body{min-width: 1020px;font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";color: #333;background-color: #fff}a{color: #4183c4;text-decoration: none}a:hover,a:active{text-decoration: underline}hr,.rule{height: 0;margin: 15px 0;overflow: hidden;background: transparent;border: 0;border-bottom: 1px solid #ddd}hr:before,.rule:before{display: table;content: ""}hr:after,.rule:after{display: table;clear: both;content: ""}h1,h2,h3,h4,h5,h6{margin-top: 15px;margin-bottom: 15px;line-height: 1.1}h1{font-size: 30px}h2{font-size: 21px}h3{font-size: 16px}h4{font-size: 14px}h5{font-size: 12px}h6{font-size: 11px}small{font-size: 90%}blockquote{margin: 0}.lead{margin-bottom: 30px;font-size: 20px;font-weight: 300;color: #555}.text-muted{color: #999}.text-danger{color: #bd2c00}.text-emphasized{font-weight: bold;color: #333}ul,ol{padding: 0;margin-top: 0;margin-bottom: 0}ol ol,ul ol{list-style-type: lower-roman}ul ul ol,ul ol ol,ol ul ol,ol ol ol{list-style-type: lower-alpha}dd{margin-left: 0}tt,code{font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;font-size: 12px}pre{margin-top: 0;margin-bottom: 0;font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace}#realtime .status{overflow: visible;position: absolute;top: -5px;left: 0;background: url("/public/images/github-status.png");width: 26px;height: 26px;display: block;margin: 0 5px 0 0}#realtime .up{background-position: 0 0}#realtime .problem{background-position: 0 -53px}#realtime .down{background-position: 0 -26px}.container{max-width: 920px;margin: 0 auto 20px auto}#header{background: #FAFAFA;background: -moz-linear-gradient(#FAFAFA, #EAEAEA);background: -webkit-linear-gradient(#FAFAFA, #EAEAEA);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#fafafa', endColorstr='#eaeaea')";border-bottom: 1px solid #CACACA;box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4),0 0 10px rgba(0, 0, 0, 0.1)}#markup{padding: 3px}#markup article{padding-top: 30px}.markdown-body{overflow: hidden;font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;font-size: 16px;line-height: 1.6;word-wrap: break-word}.markdown-body>*:first-child{margin-top: 0 !important}.markdown-body>*:last-child{margin-bottom: 0 !important}.markdown-body .absent{color: #c00}.markdown-body .anchor{position: absolute;top: 0;left: 0;display: block;padding-right: 6px;padding-left: 30px;margin-left: -30px}.markdown-body .anchor:focus{outline: none}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position: relative;margin-top: 1em;margin-bottom: 16px;font-weight: bold;line-height: 1.4}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{display: none;color: #000;vertical-align: middle}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{padding-left: 8px;margin-left: -30px;text-decoration: none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{display: inline-block}.markdown-body h1 tt,.markdown-body h1 code,.markdown-body h2 tt,.markdown-body h2 code,.markdown-body h3 tt,.markdown-body h3 code,.markdown-body h4 tt,.markdown-body h4 code,.markdown-body h5 tt,.markdown-body h5 code,.markdown-body h6 tt,.markdown-body h6 code{font-size: inherit}.markdown-body h1{padding-bottom: 0.3em;font-size: 2.25em;line-height: 1.2;border-bottom: 1px solid #eee}.markdown-body h1 .anchor{line-height: 1}.markdown-body h2{padding-bottom: 0.3em;font-size: 1.75em;line-height: 1.225;border-bottom: 1px solid #eee}.markdown-body h2 .anchor{line-height: 1}.markdown-body h3{font-size: 1.5em;line-height: 1.43}.markdown-body h3 .anchor{line-height: 1.2}.markdown-body h4{font-size: 1.25em}.markdown-body h4 .anchor{line-height: 1.2}.markdown-body h5{font-size: 1em}.markdown-body h5 .anchor{line-height: 1.1}.markdown-body h6{font-size: 1em;color: #777}.markdown-body h6 .anchor{line-height: 1.1}.markdown-body p,.markdown-body blockquote,.markdown-body ul,.markdown-body ol,.markdown-body dl,.markdown-body table,.markdown-body pre{margin-top: 0;margin-bottom: 16px}.markdown-body hr{height: 4px;padding: 0;margin: 16px 0;background-color: #e7e7e7;border: 0 none}.markdown-body ul,.markdown-body ol{padding-left: 2em}.markdown-body ul.no-list,.markdown-body ol.no-list{padding: 0;list-style-type: none}.markdown-body ul ul,.markdown-body ul ol,.markdown-body ol ol,.markdown-body ol ul{margin-top: 0;margin-bottom: 0}.markdown-body li>p{margin-top: 16px}.markdown-body dl{padding: 0}.markdown-body dl dt{padding: 0;margin-top: 16px;font-size: 1em;font-style: italic;font-weight: bold}.markdown-body dl dd{padding: 0 16px;margin-bottom: 16px}.markdown-body blockquote{padding: 0 15px;color: #777;border-left: 4px solid #ddd}.markdown-body blockquote>:first-child{margin-top: 0}.markdown-body blockquote>:last-child{margin-bottom: 0}.markdown-body table{display: block;width: 100%;overflow: auto;word-break: normal;word-break: keep-all}.markdown-body table th{font-weight: bold}.markdown-body table th,.markdown-body table td{padding: 6px 13px;border: 1px solid #ddd}.markdown-body table tr{background-color: #fff;border-top: 1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color: #f8f8f8}.markdown-body img{max-width: 100%;box-sizing: border-box}.markdown-body span.frame{display: block;overflow: hidden}.markdown-body span.frame>span{display: block;float: left;width: auto;padding: 7px;margin: 13px 0 0;overflow: hidden;border: 1px solid #ddd}.markdown-body span.frame span img{display: block;float: left}.markdown-body span.frame span span{display: block;padding: 5px 0 0;clear: both;color: #333}.markdown-body span.align-center{display: block;overflow: hidden;clear: both}.markdown-body span.align-center>span{display: block;margin: 13px auto 0;overflow: hidden;text-align: center}.markdown-body span.align-center span img{margin: 0 auto;text-align: center}.markdown-body span.align-right{display: block;overflow: hidden;clear: both}.markdown-body span.align-right>span{display: block;margin: 13px 0 0;overflow: hidden;text-align: right}.markdown-body span.align-right span img{margin: 0;text-align: right}.markdown-body span.float-left{display: block;float: left;margin-right: 13px;overflow: hidden}.markdown-body span.float-left span{margin: 13px 0 0}.markdown-body span.float-right{display: block;float: right;margin-left: 13px;overflow: hidden}.markdown-body span.float-right>span{display: block;margin: 13px auto 0;overflow: hidden;text-align: right}.markdown-body code,.markdown-body tt{padding: 0;padding-top: 0.2em;padding-bottom: 0.2em;margin: 0;font-size: 85%;background-color: rgba(0,0,0,0.04);border-radius: 3px}.markdown-body code:before,.markdown-body code:after,.markdown-body tt:before,.markdown-body tt:after{letter-spacing: -0.2em;content: "\00a0"}.markdown-body code br,.markdown-body tt br{display: none}.markdown-body del code{text-decoration: inherit}.markdown-body pre>code{padding: 0;margin: 0;font-size: 100%;word-break: normal;white-space: pre;background: transparent;border: 0}.markdown-body .highlight{margin-bottom: 16px}.markdown-body .highlight pre,.markdown-body pre{padding: 16px;overflow: auto;font-size: 85%;line-height: 1.45;background-color: #f7f7f7;border-radius: 3px}.markdown-body .highlight pre{margin-bottom: 0;word-break: normal}.markdown-body pre{word-wrap: normal}.markdown-body pre code,.markdown-body pre tt{display: inline;max-width: initial;padding: 0;margin: 0;overflow: initial;line-height: inherit;word-wrap: normal;background-color: transparent;border: 0}.markdown-body pre code:before,.markdown-body pre code:after,.markdown-body pre tt:before,.markdown-body pre tt:after{content: normal}.markdown-body kbd{display: inline-block;padding: 3px 5px;font-size: 11px;line-height: 10px;color: #555;vertical-align: middle;background-color: #fcfcfc;border: solid 1px #ccc;border-bottom-color: #bbb;border-radius: 3px;box-shadow: inset 0 -1px 0 #bbb}.codehilite{background: #ffffff}.codehilite .c{color: #999988;font-style: italic}.codehilite .err{color: #a61717;background-color: #e3d2d2}.codehilite .k{color: #000000;font-weight: bold}.codehilite .o{color: #000000;font-weight: bold}.codehilite .cm{color: #999988;font-style: italic}.codehilite .cp{color: #999999;font-weight: bold}.codehilite .c1{color: #999988;font-style: italic}.codehilite .cs{color: #999999;font-weight: bold;font-style: italic}.codehilite .gd{color: #000000;background-color: #ffdddd}.codehilite .gd .x{color: #000000;background-color: #ffaaaa}.codehilite .ge{color: #000000;font-style: italic}.codehilite .gr{color: #aa0000}.codehilite .gh{color: #999999}.codehilite .gi{color: #000000;background-color: #ddffdd}.codehilite .gi .x{color: #000000;background-color: #aaffaa}.codehilite .go{color: #888888}.codehilite .gp{color: #555555}.codehilite .gs{font-weight: bold}.codehilite .gu{color: #aaaaaa}.codehilite .gt{color: #aa0000}.codehilite .kc{color: #000000;font-weight: bold}.codehilite .kd{color: #000000;font-weight: bold}.codehilite .kp{color: #000000;font-weight: bold}.codehilite .kr{color: #000000;font-weight: bold}.codehilite .kt{color: #445588;font-weight: bold}.codehilite .m{color: #009999}.codehilite .s{color: #d14}.codehilite .na{color: #008080}.codehilite .nb{color: #0086B3}.codehilite .nc{color: #445588;font-weight: bold}.codehilite .no{color: #008080}.codehilite .ni{color: #800080}.codehilite .ne{color: #990000;font-weight: bold}.codehilite .nf{color: #990000;font-weight: bold}.codehilite .nn{color: #555555}.codehilite .nt{color: #000080}.codehilite .nv{color: #008080}.codehilite .ow{color: #000000;font-weight: bold}.codehilite .w{color: #bbbbbb}.codehilite .mf{color: #009999}.codehilite .mh{color: #009999}.codehilite .mi{color: #009999}.codehilite .mo{color: #009999}.codehilite .sb{color: #d14}.codehilite .sc{color: #d14}.codehilite .sd{color: #d14}.codehilite .s2{color: #d14}.codehilite .se{color: #d14}.codehilite .sh{color: #d14}.codehilite .si{color: #d14}.codehilite .sx{color: #d14}.codehilite .sr{color: #009926}.codehilite .s1{color: #d14}.codehilite .ss{color: #990073}.codehilite .bp{color: #999999}.codehilite .vc{color: #008080}.codehilite .vg{color: #008080}.codehilite .vi{color: #008080}.codehilite .il{color: #009999}
    </style>
    <style type="text/css">
      .markdown-body hr{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC")}
    </style>
  </head>
  <body>
    <div class="container">
      <div id="markup">
        <article id="content" class="markdown-body">
          <h1 id="30-git">第 30 天：分享工作中幾個好用的 Git 操作技巧</h1>
<p>終於來到了最後一天，這篇文章將分享幾個好用的 Git 操作技巧，或許可以節省你不少 Git 版控過程的時間。</p>
<h2 id="git-pull-push-fetch">如何讓 git pull / push / fetch 不用輸入帳號、密碼</h2>
<p>我們在使用 GitHub 的時候，由於預設使用 <strong>HTTPS</strong> 通訊協定取得 Git 儲存庫，例如：<code>https://github.com/doggy8088/frontend-tools.git</code>。但事實上你可以改用 <strong>SSH</strong> 選擇當成取得 Git 遠端儲存庫的網址，如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1434994/c9cd7268-4130-11e3-97f0-fd24972b80fb.png"></p>
<p>使用 HTTPS 通訊協定來存取 GitHub 上的遠端儲存庫，由於無法記憶帳號密碼，所以每次執行遠端儲存庫的指令一定都會被要求輸入帳號、密碼。但改用 SSH 的話，就可以透過預先定義好的金鑰來進行身分驗證。</p>
<p>在第一次使用 GitHub for Windows 工具的時候，如果你有照著步驟登入與設定，這套工具會預設幫你產生一對金鑰，然後該工具會自動上傳到 GitHub 的 <strong>SSH Key</strong> 專區，讓你日後不用再輸入帳號密碼，就能順利的操作 GitHub 上的遠端儲存庫。</p>
<p>這一對金鑰，預設就放在 <code>%USERPROFILE%\.ssh</code> 資料夾下，如果你的 Windows 登入使用者名稱為 <code>Will</code> 的話，這個路徑就位於 <code>C:\Users\Will\.ssh</code> 目錄下。這對金鑰的檔名分別是 <code>github_rsa</code> (私鑰) 與 <code>github_rsa.pub</code> (公鑰)，如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435029/c160707a-4131-11e3-854c-0432d44adcd3.png"></p>
<p>也因為這一對金鑰的存在，所以你在 <strong>Git Shell</strong> 底下操作 Git 指令，所有針對遠端儲存庫上的操作，都不需要再次輸入帳號密碼。</p>
<p>事實上，不用輸入密碼的原因是「<strong>GitHub for Windows 工具已經把 SSH 金鑰上傳到 GitHub 網站了</strong>」，設定的網址在 <code>https://github.com/settings/ssh</code>，我們可以從以下圖示看出設定的位址：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435082/ab000140-4133-11e3-95ad-3940c2ec0cf3.png"></p>
<p>不過，如果你希望在「命令提示字元」（非 Windows Powershell 執行環境）下也可以不用輸入帳號密碼驗證，那麼你可以嘗試將 <code>%USERPROFILE%\.ssh</code> 資料夾下的兩個檔案分別把 <code>github_rsa</code> 複製一份改名成 <code>id_rsa</code>，然後把 <code>github_rsa.pub</code> 複製一份改名成 <code>id_rsa.pub</code>，即可完成設定！完成後如下圖示：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435102/434d1e6a-4134-11e3-9a2f-0e0307ccbbe2.png"></p>
<p>這樣就可以大功告成。</p>
<p>不過，如果你之前從 GitHub 複製回來的版本庫是用 HTTPS 通訊協定的話，那麼你還必須將這個遠端 URL 修改成 ssh 的格式。例如我們現有的　remote URL 如下：</p>
<div class="codehilite"><pre>G:\demo\frontend-tools&gt;git remote -v
origin  https://github.com/doggy8088/frontend-tools.git (fetch)
origin  https://github.com/doggy8088/frontend-tools.git (push)
</pre></div>


<p>我們可以用 <code>git remote set-url origin git@github.com:doggy8088/frontend-tools.git</code> 來將現有的遠端 URL 改成 SSH 的通訊協定，請看一下執行過程：</p>
<div class="codehilite"><pre>G:\demo\frontend-tools&gt;git remote -v
origin  https://github.com/doggy8088/frontend-tools.git (fetch)
origin  https://github.com/doggy8088/frontend-tools.git (push)

G:\demo\frontend-tools&gt;git push
Username for &#39;https://github.com&#39;: fatal: could not read Username for &#39;https://github.com&#39;: No such file or directory
^C
G:\demo\frontend-tools&gt;git remote set-url origin git@github.com:doggy8088/frontend-tools.git

G:\demo\frontend-tools&gt;git remote -v
origin  git@github.com:doggy8088/frontend-tools.git (fetch)
origin  git@github.com:doggy8088/frontend-tools.git (push)

G:\demo\frontend-tools&gt;git push
Everything up-to-date

G:\demo\frontend-tools&gt;
</pre></div>


<p>如此一來，就可以不再需要驗證帳號密碼了。</p>
<h2 id="bitbucket">如何讓操作 Bitbucket 遠端儲存庫時，也可以不用輸入帳號、密碼</h2>
<p>由於 GitHub for Windows 幫我們建立好一個現成的金鑰，如果你要直接沿用，可以透過以下步驟產生 GitHub 與 Bitbucket 都能支援的 SSH 金鑰格式：</p>
<ol>
<li>
<p>如果你有安裝　SourceTree 的話，將會在以下路徑找到 <code>puttygen.exe</code> 工具，並請直接開啟程式：</p>
<p>路徑：<code>C:\Program Files (x86)\Atlassian\SourceTree\tools\putty</code></p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435128/5f7cd660-4135-11e3-9f7f-e08ad59473f9.png"></p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435130/7c0a7a08-4135-11e3-9777-968f6e1de96a.png"></p>
</li>
<li>
<p>接著載入 <code>%USERPROFILE%\.ssh\github_rsa</code> 私密金鑰檔案，並複製產生後的一串亂碼，這就是 SSH 金鑰中的公鑰：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435142/c81e230e-4135-11e3-8623-90acfd089d7b.png"></p>
<p>※ 不過，如果你已經有 <code>github_rsa.pub</code> 這個檔案的話，直接用 Notepad 開啟這個檔案，也可以直接拿來當成公鑰的內容。</p>
<p>這個 SSH 公鑰的內容格式大致如下：</p>
<div class="codehilite"><pre>ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAACEAxtaDp6VqaKlm2b2EMJFL99T0ApR053qY2n7on8k+prv9ImajkjlVFqlLCu89JJYgz7/VehXxIYo11e45iIHUC8zkgtzomjuUPVFIGLCkKP/k8WbmNA/NZb0CV/n8JI1gEYM4aMuIh9DaJw6N7KfkYo39ZJR4aKmACbjdO+ls71cRJ6hOkBo2wPRqsOJeipIdEh4wiekaWWApZyBm2uUsvs5nb/FtdxZ+AQlODozeLJFmnjBXCJUM4TimbWgZR2tPyvhI4Id5NRQf4112SLiQXP0YN2SXGRRLZG0x7LBLk6FzmdUQBxEzayK7t6SBmsHyRvMOOADt55L8oDCjYzghIw== imported-openssh-key
</pre></div>


</li>
<li>
<p>接著進入 Bitbucket 首頁，並找到 SSH Key 頁面，並按下 <strong>Add Key</strong> 以新增金鑰：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435186/cfddcde6-4136-11e3-81cf-fb1e81398cb8.png"></p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435192/f48da54e-4136-11e3-85c6-977dbed70424.png"></p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435198/101b621a-4137-11e3-8c13-db5e0cdf6d8f.png"></p>
</li>
<li>
<p>輸入一個好記名稱與公鑰內容後，就大功告成，從今以後連接 Bitbucket 也不用再輸入帳號、密碼了。</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435204/454545fa-4137-11e3-96aa-90f8503d28f9.png"></p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435207/608af652-4137-11e3-83ba-9db837e6d3da.png"></p>
</li>
</ol>
<h2 id="git-rebase">如何還原一個 <code>git rebase</code> 變動</h2>
<p>如果單純地用 <code>git merge</code> 合併一個檔案，要還原合併很簡單，直接打 <code>git reset --hard ORIG_HEAD</code> 即可還原本次合併的變更。但是 <code>git rebase</code> 怎麼辦？因為 <code>git rebase</code> 會將版本線圖改變，而且分支的結構也會發生變化，感覺上好像很難做還原動作，但其實非常簡單。</p>
<p>我用一張圖來解釋還原的過程：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435361/2d707576-413c-11e3-82c0-89a3fc0296dc.png"></p>
<ol>
<li>先知道你在 Rebase 之前，是落於哪個版本。</li>
<li>再查出你要從哪個版本開始 Rebase</li>
<li>然後真正執行 Rebase 動作</li>
<li>不管做了哪些動作，你再執行一次 <code>git reflog</code> 就可以看出 Rebase 真正做了幾件事</li>
<li>若要還原 Rebase 的版本，只要找到 Rebase 之前的版本，就可以透過　<code>git reset --hard</code> 來還原  </li>
</ol>
<h2 id="_1">取得遠端儲存庫的統計資訊</h2>
<p>由於我們透過 <code>git clone</code> 的時候，就可以抓回完整的版本紀錄，這代表我們可以隨時在本地儲存庫統計版本資訊。</p>
<p>例如我們想取得版本庫中所有人的 commit 次數統計，可以輸入　<code>git shortlog -sne</code> 即可詳細列出每個人的 commit 次數，而且加上 <code>-n</code> 參數還可以按照 commit 數量進行降冪排序：</p>
<div class="codehilite"><pre>G:\CSS-Guidelines&gt;git shortlog -sne
    58  Harry Roberts &lt;harry@csswizardry.com&gt;
     2  Matteo Nicoletti &lt;matteo.nicoletti@webdev.it&gt;
     1  Mike &lt;mike@mikepennisi.com&gt;
     1  Tim Vandecasteele &lt;tim.vandecasteele@gmail.com&gt;
</pre></div>


<p>也可以利用 <code>git shortlog</code> 顯示出每個人最近 commit 過的歷史紀錄。</p>
<div class="codehilite"><pre>G:\CSS-Guidelines&gt;git shortlog
Harry Roberts (58):
      Iitial commit
      Adding readme and other guideline text
      Update URL to BSkyB
      Fix typo in README
      Update doc URL
      Update README intro
      Update README intro
      Embolden sharing details
      Update copyright date
      Add closing sentence to preprocessor section.
      Tidy up link to CSS perf article.
      Correct syntax for conditional comment.
      Fix typo
      Add note about syntax rules.
      Use more robust URL in tweet link.
      Use more robust URL in tweet link
      Use more robust URL in tweet link
      Merge pull request #3 from jugglinmike/typo
      Add section on key selectors
      Add section on key selectors
      Remove Twitter link
      Reformat and add BEM section
      Complete rewrite
      Rename file
      Add table of contents
      Add note about spaces and multiline
      Reword of quasi-qualified selectors
      Reword ruleset anatomy section
      Fix typo in naming conventions
      Clarify BEM meaning
      Fix typo in comments section
      Clarify quasi-qualifiying
      Intro to second section
      Reword new componnets section
      Add JS naming section
      Add JS hooks to ToC
      Clear up JS hooks class definition
      Reword source order section
      Update link to inuit.css tables grid
      Add classes in HTML section
      Remove Sky disclaimer
      Personalise tone of voice
      Add section on internationalisation
      Add link to Russian translation by @matmuchrapna
      Remove unnecessary word
      Slight reword
      Completely reverse stance on internationalisation
      Merge branch &#39;master&#39; of github.com:csswizardry/CSS-Guidelines
      Fix typo (thanks @stanton)
      Fix typo (thanks @stanton)
      Add Chinese translation
      Add link to French translation
      Merge pull request #7 from matteo-webdev/master
      Merge pull request #15 from tim-vandecasteele/patch-1
      Add link to Japanese translation. Thanks, @kiwanami

Matteo Nicoletti (2):
      Removed trailing spaces
      Corrected &quot;inuit.css’s table grid system&quot; link

Mike (1):
      Insert omitted word

Tim Vandecasteele (1):
      Type is -&gt; in
</pre></div>


<p>你也可以利用 GitHub 上 <strong>Graph</strong> 頁面提供的統計資訊：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435496/c0cdca22-4140-11e3-9ece-6aae6fcf514e.png"></p>
<p>這裡主要提供六種報表：</p>
<ul>
<li>Contributors (本專案貢獻者的活躍程度）</li>
<li>Commit Activity (每一天的 commit 活動數量)</li>
<li>Code Frequency (原始碼異動服務，可看出每天新增與刪除的程式碼行數)</li>
<li>Punchcard (每一天的 commit 數量，用打卡的方式來顯示) (類似上下班打卡的那種卡片)</li>
<li>Network (pull request 與 merge 的圖形表示)</li>
<li>Members (所有 fork 此專案的 github 成員)</li>
</ul>
<p>點進去之後，還可以繼續往下鑽(Drill-Down)，查看更細的統計報表：</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435500/d3925eb6-4140-11e3-85b7-a59599ba6c88.png"></p>
<h2 id="_2">從工作目錄清除不在版本庫中的檔案</h2>
<p>我們在 Git 工作目錄中，通常會產生一些不必要的檔案，而這些檔案通常都會透過 <code>.gitignore</code> 檔案，讓 Git 自動忽略這些檔案。如果你今天想要把這些額外的檔案都給刪除掉，可以透過 <code>git clean -f</code> 強迫刪除這些檔案。</p>
<p>不過，執行之前，還是建議用 <code>git clean -n</code> 看一下，這個指令會列出他「預計」會刪除那些檔案，等你確認過後在執行 <code>git clean -f</code> 刪除即可檔案。</p>
<h2 id="_3">刪除遠端分支</h2>
<p>如果你將「本地分支」透過 <code>git push origin FixForCRLF</code> 指令建立起「遠端分支」，也代表在遠端會被建立一個名為 <code>FixForCRLF</code> 的分支，如果你想在本地下指令刪除遠端追蹤分支，可以輸入以下指令 (在遠端分支前面加上個 <code>:</code> 而已)：</p>
<div class="codehilite"><pre>git push origin :FixForCRLF
</pre></div>


<p>另一個同樣目的的指令用法如下，指令看起來較為直覺些：</p>
<div class="codehilite"><pre>git push origin --delete FixForCRLF
</pre></div>


<p>※ 不過使用時要注意，如果有人下載過這個遠端分支的話，他就再也無法透過 <code>git push</code> 把變更推送上來了。</p>
<h2 id="_4">找出改壞程式的兇手</h2>
<p>替原始碼做版控，最有效的就是每個檔案的每一行都可以進行詳細追蹤，今天如果程式發生異常，且找到哪一行出錯時，就可以透過 <code>git blame</code> 指令，幫你找出真正改壞程式的兇手，並且去看他為什麼會改壞。</p>
<p>用法如下：</p>
<div class="codehilite"><pre>git blame [filename]

git blame -L [開始行數],[結束行數] [filename]
</pre></div>


<p>例如：</p>
<div class="codehilite"><pre>git blame README.md

git blame -L 8,16 ViewModels/MemberViewModel.cs

git blame -L 4, Models/Product.cs
</pre></div>


<h2 id="_5">今日小結</h2>
<p>一些小技巧，需要的時候就會用的到。</p>
<h2 id="_6">鐵人賽完結感言</h2>
<p>短短 30 天，說長不長、說短不短，但我為了寫這個系列文章，還真的是累翻了。剛我把我的文章原稿放進 Word 統計，這才驚覺我寫了十幾萬字 (不含程式碼)，這真是太神奇了，傑克！</p>
<p><img alt="image" src="https://f.cloud.github.com/assets/88981/1435658/506367a6-4145-11e3-8415-31f009760093.png"></p>
<p>如同我之前講過的，雖然市面上 Git 的 GUI 工具好幾套，但想要有效率且正確的使用這些 Git 工具，先建立起完整的 Git 基本觀念非常重要，否則只會一直鬼打牆而已。</p>
<p>Git 博大精深，短短 30 天著實無法完整交代所有細節，但工作上會用到的觀念與工具都講到，如果認真看的話，相信對大家在工作上會有幫助。</p>
        </article>
      </div>
    </div>
  </body>
</html>
